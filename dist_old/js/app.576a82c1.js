(function(e){function t(t){for(var o,r,a=t[0],c=t[1],l=t[2],u=0,d=[];u<a.length;u++)r=a[u],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&d.push(s[r][0]),s[r]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);m&&m(t);while(d.length)d.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],o=!0,a=1;a<n.length;a++){var c=n[a];0!==s[c]&&(o=!1)}o&&(i.splice(t--,1),e=r(r.s=n[0]))}return e}var o={},s={app:0},i=[];function r(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=o,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var l=0;l<a.length;l++)t(a[l]);var m=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("TopMenu"),n("v-main",{staticClass:"my-4 mx-4"},[n("router-view")],1)],1)},i=[],r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app-bar",{attrs:{app:"",color:"#6A76AB",dark:""},scopedSlots:e._u([{key:"extension",fn:function(){return[n("v-tabs",{attrs:{"align-with-title":""}},[n("v-tab",{attrs:{to:{name:"Offsets"}}},[e._v("Offsets")]),n("v-tab",{attrs:{to:{name:"Movement"}}},[e._v("Mover")])],1)]},proxy:!0}])},[n("v-toolbar-title",[e._v("Posicionador Virtual")]),n("v-spacer"),n("v-btn",{attrs:{icon:""},on:{click:e.connect}},[n("v-icon",[e._v("mdi-lan-connect")])],1)],1)},a=[],c={methods:{connect:function(){alert("Trying to Connect"),pywebview.api.PyConnect(),alert("Connected")}}},l=c,m=n("2877"),u=n("6544"),d=n.n(u),f=n("40dc"),v=n("8336"),p=n("132d"),b=n("2fa4"),x=n("71a3"),y=n("fe57"),h=n("2a7f"),g=Object(m["a"])(l,r,a,!1,null,null,null),S=g.exports;d()(g,{VAppBar:f["a"],VBtn:v["a"],VIcon:p["a"],VSpacer:b["a"],VTab:x["a"],VTabs:y["a"],VToolbarTitle:h["a"]});var P={name:"App",components:{TopMenu:S},data:function(){return{}}},O=P,k=n("7496"),w=n("f6c4"),M=Object(m["a"])(O,s,i,!1,null,null,null),C=M.exports;d()(M,{VApp:k["a"],VMain:w["a"]});var _=n("f309");o["a"].use(_["a"]);var j=new _["a"]({}),E=n("8c4f"),R=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("WaitDialog",{attrs:{dialog:e.lockButtons,msg:e.displayMsg}}),n("v-row",{staticClass:"offsets-header container",attrs:{dense:"",justify:"space-around"}},[n("v-col",{attrs:{sm:"2"}},[n("p",[e._v("Eje")])]),n("v-col",{attrs:{sm:"2"}},[n("p",[e._v("Offset Actual (º)")])]),n("v-col",{attrs:{sm:"2"}},[n("p",[e._v("Offset Deseado (º)")])]),n("v-col",{attrs:{sm:"2"}},[n("p",[e._v("Posición Actual(º)")])]),n("v-col",{attrs:{sm:"2"}},[n("p",[e._v("Posición Deseada(º)")])])],1),e._l(e.axes,(function(t,o){return n("v-row",{key:o,staticClass:"offset",attrs:{dense:"",justify:"space-around"}},[n("v-col",{attrs:{sm:"2"}},[n("v-text-field",{staticClass:"input-centered",attrs:{type:"number","single-line":"",disabled:"",outlined:""},model:{value:t.number,callback:function(n){e.$set(t,"number",n)},expression:"axis.number"}})],1),n("v-col",{attrs:{sm:"2"}},[n("v-text-field",{staticClass:"input-centered",attrs:{type:"number","single-line":"",disabled:"",outlined:""},model:{value:t.currentOffset,callback:function(n){e.$set(t,"currentOffset",n)},expression:"axis.currentOffset"}})],1),n("v-col",{attrs:{sm:"2"}},[n("v-text-field",{staticClass:"input-centered",attrs:{"single-line":"",outlined:""},on:{blur:e.updateOffset},model:{value:t.desiredOffset,callback:function(n){e.$set(t,"desiredOffset",n)},expression:"axis.desiredOffset"}})],1),n("v-col",{attrs:{sm:"2"}},[n("v-text-field",{staticClass:"input-centered",attrs:{type:"number",disabled:"","single-line":"",outlined:""},model:{value:t.currentPosition,callback:function(n){e.$set(t,"currentPosition",n)},expression:"axis.currentPosition"}})],1),n("v-col",{attrs:{sm:"2"}},[n("v-text-field",{staticClass:"input-centered",attrs:{type:"number","single-line":"",outlined:""},on:{blur:e.calcOffsets},model:{value:t.desiredPosition,callback:function(n){e.$set(t,"desiredPosition",n)},expression:"axis.desiredPosition"}})],1)],1)})),n("v-row",{attrs:{dense:"",justify:"space-around"}},[n("v-col",[n("v-btn",{attrs:{disabled:e.lockButtons},on:{click:e.readOffsetsPositions}},[e._v("Leer Offsets y Posiciones")])],1),n("v-col",[n("v-btn",{attrs:{disabled:e.lockButtons},on:{click:e.calcOffsets}},[e._v("Calcular Offsets")])],1),n("v-col",[n("v-btn",{attrs:{disabled:e.lockButtons},on:{click:e.sendOffsets}},[e._v("Escribir Offsets")])],1)],1)],2)},T=[],V=(n("4160"),n("a9e3"),n("35b3"),n("b680"),n("159b"),n("96cf"),n("1da1")),B=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",{attrs:{color:"primary",dark:""}},[n("v-card-text",[e._v(" "+e._s(e.msg)+" "),n("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)},F=[],D={name:"WaitDialog",props:{dialog:Boolean,msg:String}},I=D,A=n("b0af"),L=n("99d9"),$=n("169a"),N=n("8e36"),W=Object(m["a"])(I,B,F,!1,null,null,null),q=W.exports;d()(W,{VCard:A["a"],VCardText:L["a"],VDialog:$["a"],VProgressLinear:N["a"]});var J={name:"Offsets",components:{WaitDialog:q},data:function(){return{axes:[],filename:"",lockButtons:!1,displayMsg:""}},methods:{updateOffset:function(e){console.log("Entro tmb"),console.log(this.axes);for(var t=0;t<this.axes.length;t++)if(this.axes[t].number==e.axis){if(isNaN(e.desiredOffset))return void(this.axes[t].desiredOffset=0);this.axes[t].desiredOffset=Math.round(100*(parseFloat(e.desiredOffset)%360+Number.EPSILON))/100}console.log(this.axes)},sendOffsets:function(){this.displayMsg="Escribiendo Offsets",this.lockButtons=!0,"undefined"!==typeof pywebview&&this.axes.forEach(function(){var e=Object(V["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.currentOffset===t.desiredOffset){e.next=8;break}return e.next=3,pywebview.api.PyWriteOffset(t.number,t.desiredOffset);case 3:if(n=e.sent,n){e.next=7;break}return alert("Error escribiendo El offset de ".concat(t.number)),e.abrupt("return");case 7:t.currentOffset=parseFloat(n).toFixed(2);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.lockButtons=!1},readOffsetsPositions:function(){var e=this;return Object(V["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.displayMsg="Leyendo Offsets y posiciones",e.lockButtons=!0,"undefined"===typeof pywebview){t.next=8;break}return t.next=5,pywebview.api.PyReadPositionsAndOffsets();case 5:n=t.sent,n||alert("Error leyendo los offsets y las posiciones"),e.axes=n;case 8:e.lockButtons=!1;case 9:case"end":return t.stop()}}),t)})))()},calcOffsets:function(){this.displayMsg="Calculando Offsets",this.lockButtons=!0;var e=function(e){return e>=0?e%360:360+e%360};console.log(this.axes),this.axes.forEach((function(t){t.desiredOffset=e((parseFloat(t.currentOffset)+(parseFloat(t.desiredPosition)-parseFloat(t.currentPosition))).toFixed(2))})),this.lockButtons=!1}},created:function(){"undefined"===typeof pywebview?this.axes.push({number:0,currentOffset:161.8,desiredOffset:161.8,currentPosition:79.94,desiredPosition:79.94}):this.readOffsetsPositions()}},z=J,G=(n("997b"),n("62ad")),H=n("a523"),K=n("0fd9"),Q=n("8654"),U=Object(m["a"])(z,R,T,!1,null,null,null),X=U.exports;d()(U,{VBtn:v["a"],VCol:G["a"],VContainer:H["a"],VRow:K["a"],VTextField:Q["a"]});var Y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("WaitDialog",{attrs:{dialog:e.lockButtons,msg:e.displayMsg}}),n("v-row",{attrs:{dense:"",justify:"space-around"}},[n("v-col",{attrs:{sm:"3"}},[n("v-combobox",{staticClass:"py-3",attrs:{label:"Sistema",dense:"","item-text":"name","return-object":"",items:e.systems},model:{value:e.systemSelected,callback:function(t){e.systemSelected=t},expression:"systemSelected"}}),n("v-combobox",{staticClass:"py-3",attrs:{label:"Modo de movimiento",dense:"","item-text":"name","return-object":"",items:e.movementModes},model:{value:e.movementModeSelected,callback:function(t){e.movementModeSelected=t},expression:"movementModeSelected"}}),n("v-btn",{attrs:{disabled:e.lockButtons},on:{click:e.moveAxis}},[e._v("Mover Eje")])],1),n("v-col",{attrs:{sm:"8"}},["MT"===e.movementModeSelected.mode?n("v-card",[n("v-row",{attrs:{justify:"space-around",dense:""}},[n("v-col",{attrs:{sm:"4"}},[n("v-combobox",{staticClass:"input-centered",attrs:{"item-text":"number",label:"Eje",items:e.systemSelected.axes},model:{value:e.axisSelected,callback:function(t){e.axisSelected=t},expression:"axisSelected"}}),n("v-text-field",{staticClass:"input-centered",attrs:{label:"Velocidad",outlined:"",type:"number",rules:[e.speedRule]},on:{blur:e.movementSpeedCorrect},model:{value:e.movementSpeed,callback:function(t){e.movementSpeed=t},expression:"movementSpeed"}})],1),n("v-col",{attrs:{sm:"4"}},[n("v-combobox",{staticClass:"input-centered",attrs:{label:"Dirección","item-text":"name","return-object":"",items:e.movementDirection},model:{value:e.movementDirectionSelected,callback:function(t){e.movementDirectionSelected=t},expression:"movementDirectionSelected"}}),n("v-text-field",{staticClass:"input-centered",attrs:{label:"Posición Objetivo",type:"number",outlined:"",rules:[e.positionRule("movementTargetPosition")]},on:{blur:function(t){return e.movementTargetPositionCorrect("movementTargetPosition")}},model:{value:e.movementTargetPosition,callback:function(t){e.movementTargetPosition=t},expression:"movementTargetPosition"}})],1)],1)],1):"MR"===e.movementModeSelected.mode?n("v-card",[n("v-row",{attrs:{justify:"space-around",dense:""}},[n("v-col",{attrs:{sm:"4"}},[n("v-combobox",{staticClass:"input-centered",attrs:{"item-text":"number",label:"Eje",items:e.systemSelected.axes},model:{value:e.axisSelected,callback:function(t){e.axisSelected=t},expression:"axisSelected"}}),n("v-text-field",{staticClass:"input-centered",attrs:{label:"Velocidad",outlined:"",type:"number",rules:[e.speedRule]},on:{blur:e.movementSpeedCorrect},model:{value:e.movementSpeed,callback:function(t){e.movementSpeed=t},expression:"movementSpeed"}})],1),n("v-col",{attrs:{sm:"4"}},[n("v-text-field",{staticClass:"input-centered",attrs:{label:"Posución Inicial",type:"number",outlined:"",rules:[e.positionRule("movementStartPosition")]},on:{blur:function(t){return e.movementTargetPositionCorrect("movementStartPosition")}},model:{value:e.movementStartPosition,callback:function(t){e.movementStartPosition=t},expression:"movementStartPosition"}}),n("v-text-field",{staticClass:"input-centered",attrs:{label:"Posición Final",type:"number",outlined:"",rules:[e.positionRule("movementEndPosition")]},on:{blur:function(t){return e.movementTargetPositionCorrect("movementEndPosition")}},model:{value:e.movementEndPosition,callback:function(t){e.movementEndPosition=t},expression:"movementEndPosition"}}),n("v-text-field",{staticClass:"input-centered",attrs:{label:"Incremento Angular",type:"number",outlined:"",rules:[e.incrementRule]},on:{blur:e.movementIncrementCorrect},model:{value:e.movementIncrement,callback:function(t){e.movementIncrement=t},expression:"movementIncrement"}})],1)],1)],1):e._e(),n("v-card",{staticClass:"my-4 py-2"},[n("v-row",{attrs:{justify:"space-around",dense:""}},[n("v-col",{attrs:{sm:"4"}},[n("p",{staticStyle:{"font-size":"20px","font-weight":"bold"}},[e._v("Position: "+e._s(e.currentPosition))])]),n("v-col",{attrs:{sm:"4"}},[n("v-btn",{attrs:{disabled:e.lockButtons},on:{click:e.readPosition}},[e._v("Read Position")])],1)],1)],1)],1)],1)],1)},Z=[],ee={name:"Mover",components:{WaitDialog:q},data:function(){return{systems:[{system:"spheric",name:"Esférico",axes:[{number:1,min:0,max:360},{number:3,min:0,max:360},{number:4,min:0,max:360},{number:5,min:0,max:240}]},{system:"compact-range",name:"Rango compacto",axes:[{number:1,min:0,max:359.99},{number:2,min:0,max:155},{number:3,min:0,max:359.99},{number:4,min:0,max:240},{number:6,min:0,max:155}]}],systemSelected:{},movementModes:[{mode:"MT",name:"Modo Track"},{mode:"MR",name:"Modo Registro"}],movementModeSelected:{},axisSelected:{},movementDirection:[{mode:"f",name:"Directa"},{mode:"r",name:"Inversa"},{mode:"d",name:"Auto"}],movementDirectionSelected:{},movementSpeed:"90.0",movementTargetPosition:"180.00",currentPosition:"0.00",movementStartPosition:"0.00",movementEndPosition:"180.00",movementIncrement:"0.100",lockButtons:!1,displayMsg:""}},methods:{speedRule:function(e){return isNaN(e)?"La velocidad no es un numero":(e=parseFloat(e),e>92?"La velocidad no puede ser superior a 92%":!(e<=0)||"La velocidad no puede ser inferior a 0%")},positionRule:function(e){var t=this[e];return isNaN(t)?"La posición no es un numero":(t=parseFloat(t),t<this.axisSelected.min?"La posición es menor que el límite inferior ".concat(this.axisSelected.min):!(t>this.axisSelected.max)||"La posición es mayor que el límite superior ".concat(this.axisSelected.max))},incrementRule:function(e){return isNaN(e)?"El incremento no es un número":(e=parseFloat(e).toFixed(3),e<.005?"El incremento no puede ser menor que 0.005º":e>49.999?"El incremento no puede ser mayor que 49.999º":1e3*(parseFloat(this.movementEndPosition)-parseFloat(this.movementStartPosition))%(1e3*e)===0||"Las posiciones no son multiplo del incremento")},movementIncrementCorrect:function(){!0===this.incrementRule(this.movementIncrement)?this.movementIncrement=parseFloat(this.movementIncrement).toFixed(3):this.movementIncrement=.005},movementSpeedCorrect:function(){!0===this.speedRule(this.movementSpeed)?this.movementSpeed=parseFloat(this.movementSpeed).toFixed(1):this.movementSpeed=90},movementTargetPositionCorrect:function(e){console.log(this[e]),!0===this.positionRule(e)?this[e]=parseFloat(this[e]).toFixed(2):this[e]=0},moveAxis:function(){var e=this;return Object(V["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.displayMsg="Moviendo el eje",e.lockButtons=!0,"undefined"===typeof pywebview){t.next=15;break}t.t0=e.movementModeSelected.mode,t.next="MT"===t.t0?6:"MR"===t.t0?10:14;break;case 6:return t.next=8,pywebview.api.PyMoveTrack(e.movementDirectionSelected.mode,e.movementSpeed,e.movementTargetPosition,e.axisSelected.number);case 8:return n=t.sent,t.abrupt("break",14);case 10:return t.next=12,pywebview.api.PyMoveRegister(e.movementSpeed,e.movementStartPosition,e.movementEndPosition,e.movementIncrement,e.axisSelected.number);case 12:return n=t.sent,t.abrupt("break",14);case 14:n||alert("Error moviendo el eje");case 15:e.lockButtons=!1;case 16:case"end":return t.stop()}}),t)})))()},readPosition:function(){var e=this;return Object(V["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.displayMsg="Leyendo la posición",e.lockButtons=!0,"undefined"===typeof pywebview){t.next=8;break}return t.next=5,pywebview.api.PyReadPosition(e.axisSelected.number);case 5:n=t.sent,n||alert("Error leyendo la posición"),e.currentPosition=n;case 8:e.lockButtons=!1;case 9:case"end":return t.stop()}}),t)})))()}},watch:{systemSelected:function(e){this.systemSelected=e},axisSelected:function(e){this.axisSelected=e,this.readPosition()}},created:function(){this.systemSelected=this.systems[0],this.movementModeSelected=this.movementModes[0],this.axisSelected=this.systemSelected.axes[0],this.movementDirectionSelected=this.movementDirection[0]}},te=ee,ne=n("2b5d"),oe=Object(m["a"])(te,Y,Z,!1,null,null,null),se=oe.exports;d()(oe,{VBtn:v["a"],VCard:A["a"],VCol:G["a"],VCombobox:ne["a"],VContainer:H["a"],VRow:K["a"],VTextField:Q["a"]}),o["a"].use(E["a"]);var ie=[{path:"/",name:"Offsets",component:X},{path:"/movement",name:"Movement",component:se}],re=new E["a"]({routes:ie}),ae=re;o["a"].config.productionTip=!1,new o["a"]({vuetify:j,router:ae,render:function(e){return e(C)}}).$mount("#app")},"5ad7":function(e,t,n){},"997b":function(e,t,n){"use strict";var o=n("5ad7"),s=n.n(o);s.a}});
//# sourceMappingURL=app.576a82c1.js.map